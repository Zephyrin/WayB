Feature: Provide a consistent standard JSON API endpoint

  In order to build interchangeable front ends
  As a JSON API developer
  I need to allow Create, Read, Update, and Delete functionality

  Background:
    Given there are default users
    Given there are MediaObject with the following details:
      | description  | image |
      | Logo Katadyn | data:image/png;base64,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 |
      | Logo MSR     | data:image/png;base64,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 |

  Scenario: Can get a single MediaObject if I am connected - GET
    Given I am login as admin
    Then I request "/api/mediaobject/1" using HTTP GET
    Then the response code is 200
    And the response body contains JSON:
    """
    {
      "id": 1,
      "description": "Logo Katadyn",
      "file_path": "@regExp(/.+\\.png/)"
    }
    """

  Scenario: Cannot get a single MediaObject if I am not connected - GET
    Given I request "/api/mediaobject/1" using HTTP GET
    Then the response code is 401

  Scenario: Can get a collection of MediaObject - GET
    Given I am login as admin 
    Then I request "/api/mediaobject" using HTTP GET
    Then the response code is 200
    And the response body is a JSON array of length 2
    And the response body contains JSON:
    """
    [
      {
        "id": 1,
        "description": "Logo Katadyn",
        "file_path": "@regExp(/.+\\.png/)"
      },
      {
        "id": 2,
        "description": "Logo MSR",
        "file_path": "@regExp(/.+\\.png/)"
      }
    ]
    """

  Scenario: Can add a new MediaObject - POST
    Given I am login as admin
    Then the request body is:
      """
      {
        "description": "Logo Rab",
        "image": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMDUgMTI1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMDUgMTI1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMzAuMywxMTQuMmwtNC43LTEwaC0zLjl2MTIuN2gyLjZ2LTEwLjVsNC45LDEwLjVoMy43di0xMi43aC0yLjVWMTE0LjJ6IE0yLDEwNi4zaDMuOHYxMC42aDIuN3YtMTAuNmgzLjgKCXYtMi4xSDJWMTA2LjN6IE0yNi4zLDEwOS4zaC00Ljh2LTUuMWgtMi43djEyLjdoMi43di01LjZoNC44djUuNkgyOXYtMTIuN2gtMi44VjEwOS4zeiBNMTU4LjYsMTA0LjJsLTQuNiwxMi43aDIuNmwwLjktMi43aDUKCWwwLjksMi43aDIuN2wtNC40LTEyLjdIMTU4LjZ6IE0xNTguMywxMTIuMWwxLjktNS40bDEuOCw1LjRIMTU4LjN6IE0zOS40LDExMS40aDUuNHYtMi4xaC01LjR2LTNoNS44di0yLjFoLTguNXYxMi43aDguN3YtMi4xaC02CglWMTExLjR6IE02OS41LDExMy40bC0yLjctOS4yaC00LjR2MTIuN2gyLjVWMTA2bDMuNCwxMC45aDIuMkw3NCwxMDZ2MTAuOWgyLjd2LTEyLjdoLTQuM0w2OS41LDExMy40eiBNMTExLjEsMTExLjgKCWMwLDEuMy0wLjEsMS44LTAuNCwyLjJjLTAuNywxLjEtMiwxLjEtMi41LDEuMWMtMi42LDAtMi44LTEuNy0yLjgtMy4xdi03LjdoLTIuN3Y3LjZjMCwxLjIsMCwyLjIsMC42LDMuMWMxLjIsMS45LDMuNSwyLjIsNC44LDIuMgoJYzIuNiwwLDUuNi0xLjIsNS42LTV2LTcuOWgtMi42VjExMS44eiBNODkuNiwxMDRjLTQuNiwwLTYuMSwzLjQtNi4xLDYuOGMwLDEuMiwwLjIsMy4zLDEuNiw0LjdjMS4yLDEuMiwyLjgsMS43LDQuNSwxLjcKCWMxLjEsMCwzLjEtMC4yLDQuNS0xLjhjMS0xLjIsMS42LTMuMSwxLjYtNWMwLTEuMi0wLjMtMy4yLTEuNi00LjhDOTIuOSwxMDQuMyw5MSwxMDQsODkuNiwxMDR6IE05MiwxMTRjLTAuNSwwLjgtMS4zLDEuMi0yLjQsMS4yCgljLTEuMywwLTEuOS0wLjUtMi4zLTFjLTAuOC0xLTAuOS0yLjMtMC45LTMuNWMwLTEuNCwwLjItMi44LDAuOS0zLjdjMC41LTAuNiwxLjMtMS4xLDIuMy0xLjFjMS4zLDAsMi40LDAuNywyLjksMi4yCgljMC4zLDAuOCwwLjMsMS42LDAuMywyLjNDOTIuOSwxMTIuNCw5Mi40LDExMy40LDkyLDExNHogTTEzOS4yLDEwNi4zaDMuOHYxMC42aDIuN3YtMTAuNmgzLjh2LTIuMWgtMTAuM1YxMDYuM3ogTTI2Ni4xLDEwNC4zaC0zLjkKCXYxMi42aDIuOFYxMTJoMS44YzAuNywwLDEuOSwwLDIuOS0wLjZjMS0wLjYsMS42LTEuOSwxLjYtMy40YzAtMC42LTAuMS0xLjYtMC44LTIuNEMyNjkuNCwxMDQuNCwyNjcuOSwxMDQuMywyNjYuMSwxMDQuM3oKCSBNMjY1LjksMTEwaC0xLjF2LTMuNmgxLjRjMC44LDAsMi4yLDAsMi4yLDEuN0MyNjguNCwxMTAsMjY2LjgsMTEwLDI2NS45LDExMHogTTIzMC42LDExMS40aDUuNHYtMi4xaC01LjR2LTNoNS44di0yLjFoLTguNXYxMi43CgloOC43di0yLjFoLTZWMTExLjR6IE0yMTUuNywxMDQuM2gtMy45djEyLjZoMi44VjExMmgxLjhjMC43LDAsMS45LDAsMi45LTAuNmMxLTAuNiwxLjYtMS45LDEuNi0zLjRjMC0wLjYtMC4xLTEuNi0wLjgtMi40CglDMjE5LjEsMTA0LjQsMjE3LjUsMTA0LjMsMjE1LjcsMTA0LjN6IE0yMTUuNiwxMTBoLTEuMXYtMy42aDEuNGMwLjgsMCwyLjIsMCwyLjIsMS43QzIxOC4xLDExMCwyMTYuNSwxMTAsMjE1LjYsMTEweiBNMjQ5LDEwNAoJYy00LjYsMC02LjEsMy40LTYuMSw2LjhjMCwxLjIsMC4yLDMuMywxLjYsNC43YzEuMiwxLjIsMi44LDEuNyw0LjUsMS43YzEuMSwwLDMuMS0wLjIsNC41LTEuOGMxLTEuMiwxLjYtMy4xLDEuNi01CgljMC0xLjItMC4zLTMuMi0xLjYtNC44QzI1Mi4zLDEwNC4zLDI1MC40LDEwNCwyNDksMTA0eiBNMjUxLjQsMTE0Yy0wLjUsMC44LTEuMywxLjItMi40LDEuMmMtMS4zLDAtMS45LTAuNS0yLjMtMQoJYy0wLjgtMS0wLjktMi4zLTAuOS0zLjVjMC0xLjQsMC4yLTIuOCwwLjktMy43YzAuNS0wLjYsMS4zLTEuMSwyLjMtMS4xYzEuMywwLDIuNCwwLjcsMi45LDIuMmMwLjMsMC44LDAuMywxLjYsMC4zLDIuMwoJQzI1Mi4zLDExMi40LDI1MS44LDExMy40LDI1MS40LDExNHogTTI5NiwxMTQuOHYtMy40aDUuNHYtMi4xSDI5NnYtM2g1Ljh2LTIuMWgtOC41djEyLjdoOC43di0yLjFIMjk2eiBNMTkxLjgsMTE0LjJsLTQuNy0xMGgtMy45Cgl2MTIuN2gyLjZ2LTEwLjVsNC45LDEwLjVoMy43di0xMi43aC0yLjVWMTE0LjJ6IE0xNzIuOCwxMTYuOWgyLjd2LTEyLjdoLTIuN1YxMTYuOXogTTI4MC45LDEwNC4zaC0yLjh2MTIuNmg4LjJ2LTIuMmgtNS40VjEwNC4zegoJIE01OC41LDIxLjJjMi0yLDMuOC0yLjgsNS4xLTIuN2MxLjcsMC4yLDIsMSwyLjUsM2MwLjIsMC43LDAuNCwxLjQsMC43LDIuMkM3My4yLDQxLjcsOTEuOCwzNy40LDkyLDM3LjNjMCwwLDAuOS0wLjIsMi4xLTAuNwoJYzAuMi0wLjEsMC40LTAuMywwLjQtMC42YzAtMC4yLTAuMi0wLjQtMC41LTAuNGMtMy41LTAuMi04LTEuOC0xNC43LTEyLjJsLTAuNS0wLjhjLTIuNi00LjEtNC43LTcuMy0xMS42LTYuOAoJYy0zLDAuMi01LjIsMS4zLTcuMiwyLjJjLTEuMiwwLjYtMi40LDEuMS0zLjYsMS40Yy0zLjIsMC44LTUuMiwwLjctNi45LDAuNmMtMC40LDAtMC43LDAtMS0wLjFjLTctMC4zLTEwLjgtMy43LTEyLjUtMTEKCWMtMC4xLTAuMi0wLjMtMC40LTAuNS0wLjRjLTAuMywwLTAuNSwwLjItMC42LDAuNGMtMC4zLDAuNy0xLDIuNi0xLjIsNC41Yy0wLjgsOC4zLDIuMiwxMy41LDguMywxNC4yCglDNDQuNCwyOC4yLDUxLjMsMjguMiw1OC41LDIxLjJ6IE0yNjYuNiwxMy4xYzAtMS42LTAuNi0zLTEuNy00LjFjLTEuMS0xLjEtMi41LTEuNi00LTEuNmMtMS42LDAtMywwLjYtNC4xLDEuNwoJYy0xLjEsMS4xLTEuNywyLjUtMS43LDQuMWMwLDEuNiwwLjYsMi45LDEuNyw0YzEuMSwxLjEsMi41LDEuNyw0LDEuN2MxLjYsMCwyLjktMC41LDQtMS42QzI2NiwxNi4xLDI2Ni42LDE0LjgsMjY2LjYsMTMuMXoKCSBNMjYwLjksMTguMmMtMS40LDAtMi41LTAuNS0zLjQtMS41Yy0wLjktMS0xLjQtMi4yLTEuNC0zLjVjMC0xLjQsMC41LTIuNiwxLjQtMy42YzAuOS0xLDIuMS0xLjUsMy40LTEuNWMxLjMsMCwyLjQsMC41LDMuNCwxLjUKCWMwLjksMSwxLjQsMi4yLDEuNCwzLjVjMCwxLjQtMC41LDIuNi0xLjUsMy42QzI2My4zLDE3LjcsMjYyLjEsMTguMiwyNjAuOSwxOC4yeiBNMjE1LDE0LjJjMC41LDAuOCwwLjgsMi4xLDAuOCwzLjl2NTAuNQoJYzAsMS40LDEuNywyLjgsNS4xLDQuMmMzLjQsMS40LDYuOSwyLjEsMTAuNCwyLjFjNywwLDEyLjctMi40LDE3LTcuMmM0LjMtNC44LDYuNC0xMC42LDYuNC0xNy4zYzAtNi4zLTEuNy0xMS40LTUtMTUuNAoJYy0zLjMtMy45LTcuMy01LjktMTItNS45Yy0zLjgsMC03LjIsMS4yLTEwLjEsMy42Yy0xLjcsMS40LTIuOSwyLjgtMy43LDQuM1Y4YzAtMC4yLDAtMC40LTAuMS0wLjZjLTAuMiwwLTEuOCwwLjUtNC43LDEuNQoJYy0yLjksMS02LjIsMS45LTkuOCwyLjh2MS42bDIuMi0wLjJDMjEzLjMsMTMuMSwyMTQuNSwxMy41LDIxNSwxNC4yeiBNMjIzLjcsNDIuN2MwLTIuMSwxLjEtMy45LDMuMi01LjNjMi4yLTEuNCw0LjQtMi4xLDYuNi0yLjEKCWM0LjUsMCw3LjcsMiw5LjcsNmMyLDQsMyw4LjQsMywxMy4yYzAsNC43LTEuMSw4LjgtMy4yLDEyLjFjLTIuMSwzLjMtNS40LDUtOS45LDVjLTEuNywwLTMuNi0wLjQtNS44LTEuMWMtMi4yLTAuNy0zLjQtMS45LTMuNy0zLjYKCVY0Mi43eiBNMjA0LjUsNjkuMmMtMS4zLDAtMi4yLTAuNi0yLjYtMS45Yy0wLjMtMC43LTAuNC0yLTAuNC0zLjhWNDQuNGMwLTQuMi0wLjYtNy40LTEuOC05LjZjLTIuMi00LTYuNC02LTEyLjYtNgoJYy01LjMsMC05LjQsMS4yLTEyLjEsMy43Yy0yLjgsMi40LTQuMSw0LjgtNC4xLDdjMCwxLjEsMC40LDIuMiwxLjEsMy4xYzAuOCwwLjksMS45LDEuNCwzLjMsMS40YzAuOSwwLDEuNy0wLjIsMi40LTAuNgoJYzEuMi0wLjcsMS44LTEuOSwxLjgtMy43YzAtMC4zLTAuMS0wLjgtMC4yLTEuN2MtMC4yLTAuOS0wLjItMS42LTAuMi0xLjljMC0xLjUsMC43LTIuNywyLjItMy41YzEuNS0wLjgsMy0xLjIsNC42LTEuMgoJYzMuNCwwLDUuNiwxLjEsNi43LDMuMmMwLjYsMS4zLDEsMy41LDEsNi44djQuMWMtOC44LDMuMy0xNC42LDUuOS0xNy41LDcuOGMtNC42LDMuMS02LjksNi45LTYuOSwxMS42YzAsMywxLDUuNCwzLDcuMwoJYzIsMS45LDQuNCwyLjksNy4xLDIuOWMyLjYsMCw1LjQtMC45LDguMy0yLjZjMS43LTEsMy44LTIuNiw2LjItNC43YzAuMSwxLjksMC42LDMuNiwxLjYsNWMxLDEuNCwyLjUsMi4xLDQuNywyLjEKCWMxLjgsMCwzLjctMC42LDUuNC0xLjhjMS4yLTAuOCwyLjMtMS44LDMuMy0zLjF2LTIuNWMtMS4yLDAuOS0yLDEuNC0yLjUsMS42QzIwNS44LDY5LjEsMjA1LjIsNjkuMiwyMDQuNSw2OS4yeiBNMTkzLjYsNjIuNwoJYzAsMS44LTEsMy4zLTIuOSw0LjVjLTEuOSwxLjItMy45LDEuOC02LDEuOGMtMS41LDAtMi45LTAuNC00LjItMS4zYy0xLjktMS40LTIuOS0zLjUtMi45LTYuNGMwLTMuNiwyLjMtNi44LDYuOS05LjYKCWMyLjQtMS41LDUuNC0yLjgsOS4xLTRWNjIuN3ogTTI2MS44LDEzLjNjMC45LTAuMywxLjMtMC45LDEuMy0xLjdjMC0wLjUtMC4yLTAuOS0wLjYtMS4xYy0wLjQtMC4zLTAuOS0wLjQtMS40LTAuNGgtM3YwLjMKCWMwLjQsMCwwLjYsMC4xLDAuNywwLjJjMC4xLDAuMSwwLjEsMC4zLDAuMSwwLjZ2NC4xYzAsMC4zLDAsMC41LTAuMSwwLjZjLTAuMSwwLjEtMC4zLDAuMS0wLjcsMC4ydjAuM2gyLjd2LTAuMwoJYy0wLjQsMC0wLjYtMC4xLTAuNy0wLjJjLTAuMS0wLjEtMC4xLTAuMy0wLjEtMC42di0xLjdoMC45YzAuNCwwLjYsMC44LDEuMywxLjIsMS45YzAuMywwLjUsMC42LDAuOCwwLjgsMC44aDEuMVYxNgoJYy0wLjUtMC41LTAuOS0wLjktMS4xLTEuMkwyNjEuOCwxMy4zeiBNMjYwLjcsMTMuMkgyNjB2LTIuOGgwLjdjMC45LDAsMS4zLDAuNCwxLjMsMS4zQzI2MiwxMi42LDI2MS42LDEzLjIsMjYwLjcsMTMuMnoKCSBNMTI4LjYsNzIuM2MtMy43LTAuMy02LjEtMS03LjItMS45Yy0xLjEtMS0xLjYtMy4zLTEuNi02LjlWNDQuMmw1LjQtMC4yTDE0OC41LDc0aDE1Ljh2LTEuOGMtMS45LTAuMi0zLjUtMC42LTQuOC0xLjMKCWMtMS4yLTAuNy0yLjUtMS44LTMuNy0zLjNsLTIwLjEtMjQuOGM1LjQtMC44LDkuNy0yLjUsMTIuOS01LjJjMy4yLTIuNiw0LjctNi40LDQuNy0xMS4yYzAtNy4zLTMuNi0xMi4yLTEwLjctMTQuOQoJYy0zLjgtMS40LTguNS0yLjEtMTQuMS0yLjFoLTI3LjF2MS44YzMuNSwwLjMsNS44LDEsNi45LDJjMSwxLjEsMS42LDMuMywxLjYsNi44djQyLjRjMCw0LjEtMC41LDYuNy0xLjQsNy44CgljLTAuOSwxLjEtMy4zLDEuOC03LDIuMlY3NGgyNy4yVjcyLjN6IE0xMTkuOCwxNi41YzAtMS41LDAuMy0yLjQsMC45LTIuOGMwLjYtMC40LDIuMy0wLjYsNS4xLTAuNmM0LjEsMCw3LjQsMC42LDkuOSwxLjcKCWM0LjYsMi4xLDcsNS45LDcsMTEuNmMwLDUuOS0yLjYsOS45LTcuOCwxMmMtMywxLjItOC4xLDEuOS0xNS4xLDIuMlYxNi41eiBNMTAwLjUsNjAuNWMtMy41LTAuMi04LTEuOC0xNC43LTEyLjJsLTAuNS0wLjgKCWMtMi42LTQuMS00LjctNy4zLTExLjYtNi44Yy0zLDAuMi01LjIsMS4zLTcuMiwyLjJjLTEuMiwwLjYtMi40LDEuMS0zLjYsMS40Yy0zLjIsMC44LTUuMiwwLjctNi45LDAuNmMtMC40LDAtMC43LDAtMS0wLjEKCWMtNy0wLjMtMTAuOC0zLjctMTIuNS0xMWMtMC4xLTAuMi0wLjMtMC40LTAuNS0wLjRjLTAuMywwLTAuNSwwLjItMC42LDAuNGMtMC4zLDAuNy0xLDIuNi0xLjIsNC41Yy0wLjgsOC4zLDIuMiwxMy40LDguMywxNC4yCgljMi42LDAuMyw5LjUsMC40LDE2LjctNi42YzItMiwzLjgtMi44LDUuMS0yLjdjMS43LDAuMiwyLDEsMi41LDNjMC4yLDAuNywwLjQsMS40LDAuNywyLjJjNi40LDE3LjksMjUuMSwxMy42LDI1LjMsMTMuNQoJYzAsMCwwLjktMC4yLDIuMS0wLjdjMC4yLTAuMSwwLjQtMC4zLDAuNC0wLjZDMTAwLjksNjAuNywxMDAuNyw2MC41LDEwMC41LDYwLjV6Ii8+Cjwvc3ZnPgo="
      }
      """
    When I request "/api/mediaobject" using HTTP POST
    Then the response code is 201
    And the response body contains JSON:
    """
      {
        "id": 3,
        "description": "Logo Rab",
        "file_path": "@regExp(/.+\\.svg/)"
      }
    """
  
  Scenario: Can update an existing MediaObject
    Given I am login as admin
    Then the request body is:
      """
      {
        "description": "Katadyn Logo",
        "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQcAAAApCAMAAAAPpBxnAAABOFBMVEUAAAAASZAASZAASZAjHyAjHyAjHyAASZAjHyAWVpkASZAASZAjHyAjHyAjHyAASZAjHyAASZAjHyAjHyAASZAASZAASZAjHyAjHyAASZAASZAjHyAjHyAjHyAjHyAjHyAASZAjHyAjHyAjHyAASZAjHyAASZAASZAjHyAASZAASZAASZAjHyAjHyAASZAjHyAjHyAjHyAASZCZv+UASZCZv+UjHyAjHyAASZCZv+UASZAASZAASZAASZAjHyCawOYASZAjHyCZv+UjHyCZv+WZv+UjHyAjHyCZv+WZv+WZv+UjHyAASZAjHyAASZCZv+WZv+WZv+WZv+UASZCZv+WZv+UASZCZv+UASZCawOYASZCZv+UASZAASZAASZCZv+UASZAASZCZv+WZv+WZv+UASZCZv+UjHyBOtTJqAAAAZXRSTlMA9MDtChEfDdAEuqXDBKWHdxTg2dCOyC61W6xS54R+rn73ukok7cyyi2hMlFoY4pg0ycX41nBvYTvZVAnonWgJ+vGlnY6DQSYgmTKSQjov6bVeKhvFeW5MNRjczna1YTsrH0K8E7B/LbkAAAmSSURBVGjenJjNbqpAFIAPdWHARWOiJnblgmCsiQuvJFglGKMJmqb+/3vb2l54/0e4zAE8DjNc7P0WJgzMdPjmzDlT4E5UACi2lJzySm3bXHDtGTok0NlzJZVrqyk5GcojcFSCnv1PEMi3qH+rpJUbOhDWIOiVqwJHsRP08GoQUg8uFIObkhZ0Yrd1u1l+XMEN7s7cmAsXRKbDAxvaC3iBGNtjPFwgyRPeOHNtTU+ODbc0sE2TeBA6ai83krGF12ewpopKVwEFuKETNDQB1HKh1rBrEHMw1798pDv6Ah7T9x3mQQm6PkPIqu0xaiDw6SFKL8ODODU15yF70YPiCWgXfvR+D4BfpKMKEQ8e8g5EJbh+BHhp7I2nSy22MIokXFVch3AWXV/0YLW8gNwziGheCBfy720tpN5nU/4dXT1s4YazF9KWe9Bq5YBmQet7SF+nv5mIoy2uxArIQ4gueHhuWL/tSzhXdTHzA2bz0Xg87EYqJuaH604XE7w1At7DezjfC4jsgxuDEvvJgwwbo0BGj43fYT+vMg/Uqu7LAy+gpV67tjjzlsd4BcFDR/CgPmq6VToDY+oHDHcOIMvN2o+IgmT9BbyHssdogow2W5l8LvV+IdXDI1vDIssuJamHKhB6iQ+5leLRE0XcXw3gPZQUmhN5gFWz3CyHS/YRWJjCDcvxyb8y3wFwHvIabTaBVw8fwtS1SvPwBBLybI3LYOEAWR6g1+dD7vUm7g0PR0p4aFQpz5MH5jTeLbvuDpK45mTd7a4npgvAe3jrYITtQUqJmY9ivPAjD018sXCCx0wPUKW1oFrT6sU58jckPdSgjQGX9EAcHMjiT+xBt3BrPuVByku8MWu0PPd5WMWBbmGEZ3pQWZOdLElaJOSoCh6a4QsYEg/EcjGeTEabrz8gY7peRB4GGpVLGcf4L2FA1DM98O1KPs4w/UwPWCMqQqFqvFGp4D2UAZ7RdaqH5bh7zYxz8wAJnLHv7yIPiLKHFN4pT2NAvN3tQSe9GBDbTA92WDEI9YiTYz8WSD1Ak+YneJgOfUJU4ZhM0uLWw2ALKfRxjShuH+72UMejF81aUTM8YNHKYQ++aFCpED1AB6NO4sEZRW/fXX+fZqRi6uDd3WiGDct4X9iKcAxMHF/2txfWnR4wms+3F7UfeqCiQaVC9HDBJCLxcMLXHC4OzL8zNb9/xS5O3/NTdDF04Zon3zBPtovAQSHwxOeKTA800VYiV2R4KNC+4ItGHeQeqMycRQ/sjccuVzDXPs/8i6ub+z4mZL4WUEqoFOohhSOdBLI8WDjktWcFVzXDQ4f2IEHnzhQPUMCYlXiYuJDA3WBUILPJByTOUZcO5iNLcugT6dzlwfBEBkXBg5BYbdnR/OWfHtQWK0cqGIl9sQMZh91mNByOzA8HIOkB8swlzYs2rIzqHR6ePRm23AONI75yPtsDfIYJTiMP97MkD6mfGIqsKVcpXTFwlVvZHjDEB4ZBXSsYWhe5Bzqw9dUfeqAEXi2keHAWo/mpux5uppDEXX8nPEBT/E/LFg8MZyximR6q4mMWHlrTPTQo1n7sAeq4PvLz5GRGXx/GnApn88ufkwfuG1Bd5farsNA5FiJqlocWhQ1/OPyUvp+qb9v0Eec/PPQw00s8HCZxsbyqiBPDcswEDckDvyLGivsap8sOFOd0DzTSu+xAoXHv1/nLjvmzOAgEUfxlGtlNkeZYuKusBAlYLAZyfypJiqTwOI8Ux50IOcj3/wjRwRDXnSRgvb9CxB0e+lh2xqepI+GvYJWJPmAt+3DkvfB/OFZt8LLhGbtPZXa/fF/8+D7gjaWy0jl9RqgPHhM9H7w0LsOYmvvb7VY0+8NkHxCLPnS7YVfhwn776s4PzeAgfB64OrvmECqX/y9Tz556nMQuWVaOOTN1I6fN428IRLIW8nGPJSlJKk5FBYdmexklPzcNeiJtya6Hr1pboqe85HyIKInh82LI6ghXYkNmWKhaETOHzyIharWZd22pR9fzRVpChOusMEctDSWp09w6QfcRsFrBg1P8w9de4REq6i73S6at8WogEAgEAoFzN+Wv8ioMB9AzJCEfJCHooOA/VAQHRV10K5RCO5Q+R97/DW6twseFO3a6ZzCYn5zAQfL/YH+XE2GBB1Ygj5EASLLHOZacnHOsGqWSWKmU5EcqTqQaz9UeWnkIxKFUFnEcxo8AkO3rL/H58YdRve276ngKvo0oBVAmAH4CaApk3uNurA6gr0AtcZM3CkDmL1Ae6A1kDpSOuqjEdTpauXSxTthReRybO7y6OM4g9fQTsIsvBpwWd400CkjiEfrcaJ2xkzrAJ/DIFT+pguf7iIW203GKeIvXr3cIGYyhBeiCBfTKtYKmYggOmAyiqyRKr+yYBi5BQr2CCSNWrtEo0P5HWKZlfMYWIOkeqg8tWT5mtWLpKUPBR+wXbvWDIYewm5J6fG+8EH3KThYsP6EEF+8vHoTKN0mhrbU8rupV3/kuSTDgwwUYtOmBtHc3oHJcdO7gmfKM+WWuBVXwDFd46cYB2QIYL/cODlWLjzkSUOS0Gro7pqTQeX+I0zKSkMXYRXcjSW5VUPySe7Zg4JqBqbQA9B1KI6V4i+HrP0RpdILRNyC+i1zALcQcHXwlro4iRXsQQztbdqKL1atmmcCsdGovCKRXnQ/43JuCo4MEeWWuS5f+7B1ukwwFztGGIPh0ELGdaiFyLga4Dy/JThmzeKPaDoaYpgCrW9hqHbm3s3gayXdJ123aqlnDPbRJ8JA22p8dNLIufcXSg0pNkOys5ubQRaxQYXt0t7ODKUcl8FF48ttBXd9riD9jpoYkDE/Hppvl7BApqmjWDDFQpMGzI+JS07u0h8gkU3128GZUkjEONd9Gt0QhIZc0eZrqCMzwCNnRYYExqicuQQBlZ/mQhwQfbjDVVWpqcXRYMoBnf8/t2QEwhixNupmzA0l3LVgruvTsMIMLESJsgAwtH/pQMIYgmEOaVmE7OhTVR7yoKOO7qPAgvcK1ncMIti6IJ9bQYhqKCBjrBpp8UEVoOXDdcbXOYQaiiksOxM1wmXELTSQAkrD6JVIMNZfwIH5S6c/2hI+QwZFdEfUMVEGyheKRdY6DOSQQGWzn+MEHwTWDoh62jEfgHl58lWSyJHco7psHGJ6UA/Q31pW2AJg9UC7a3DmZM2CTbD3A3TH3gG9Ss7GV2OYFIF2TFsD8hNuFMuNSAmSXj/hl5OOJnRRAqaA1evGc2M1C+2J0EsA96Gd4pWlzQ06CvuBf/AFqqV8ZWpWokgAAAABJRU5ErkJggg=="
      }
      """
    When I request "/api/mediaobject/1" using HTTP PUT
    Then the response code is 204

  Scenario: Cannot update an unknown MediaObject - PUT
    Given I am login as admin
    Then the request body is:
      """
      {
        "name": "Katadyn Logo",
        "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQcAAAApCAMAAAAPpBxnAAABOFBMVEUAAAAASZAASZAASZAjHyAjHyAjHyAASZAjHyAWVpkASZAASZAjHyAjHyAjHyAASZAjHyAASZAjHyAjHyAASZAASZAASZAjHyAjHyAASZAASZAjHyAjHyAjHyAjHyAjHyAASZAjHyAjHyAjHyAASZAjHyAASZAASZAjHyAASZAASZAASZAjHyAjHyAASZAjHyAjHyAjHyAASZCZv+UASZCZv+UjHyAjHyAASZCZv+UASZAASZAASZAASZAjHyCawOYASZAjHyCZv+UjHyCZv+WZv+UjHyAjHyCZv+WZv+WZv+UjHyAASZAjHyAASZCZv+WZv+WZv+WZv+UASZCZv+WZv+UASZCZv+UASZCawOYASZCZv+UASZAASZAASZCZv+UASZAASZCZv+WZv+WZv+UASZCZv+UjHyBOtTJqAAAAZXRSTlMA9MDtChEfDdAEuqXDBKWHdxTg2dCOyC61W6xS54R+rn73ukok7cyyi2hMlFoY4pg0ycX41nBvYTvZVAnonWgJ+vGlnY6DQSYgmTKSQjov6bVeKhvFeW5MNRjczna1YTsrH0K8E7B/LbkAAAmSSURBVGjenJjNbqpAFIAPdWHARWOiJnblgmCsiQuvJFglGKMJmqb+/3vb2l54/0e4zAE8DjNc7P0WJgzMdPjmzDlT4E5UACi2lJzySm3bXHDtGTok0NlzJZVrqyk5GcojcFSCnv1PEMi3qH+rpJUbOhDWIOiVqwJHsRP08GoQUg8uFIObkhZ0Yrd1u1l+XMEN7s7cmAsXRKbDAxvaC3iBGNtjPFwgyRPeOHNtTU+ODbc0sE2TeBA6ai83krGF12ewpopKVwEFuKETNDQB1HKh1rBrEHMw1798pDv6Ah7T9x3mQQm6PkPIqu0xaiDw6SFKL8ODODU15yF70YPiCWgXfvR+D4BfpKMKEQ8e8g5EJbh+BHhp7I2nSy22MIokXFVch3AWXV/0YLW8gNwziGheCBfy720tpN5nU/4dXT1s4YazF9KWe9Bq5YBmQet7SF+nv5mIoy2uxArIQ4gueHhuWL/tSzhXdTHzA2bz0Xg87EYqJuaH604XE7w1At7DezjfC4jsgxuDEvvJgwwbo0BGj43fYT+vMg/Uqu7LAy+gpV67tjjzlsd4BcFDR/CgPmq6VToDY+oHDHcOIMvN2o+IgmT9BbyHssdogow2W5l8LvV+IdXDI1vDIssuJamHKhB6iQ+5leLRE0XcXw3gPZQUmhN5gFWz3CyHS/YRWJjCDcvxyb8y3wFwHvIabTaBVw8fwtS1SvPwBBLybI3LYOEAWR6g1+dD7vUm7g0PR0p4aFQpz5MH5jTeLbvuDpK45mTd7a4npgvAe3jrYITtQUqJmY9ivPAjD018sXCCx0wPUKW1oFrT6sU58jckPdSgjQGX9EAcHMjiT+xBt3BrPuVByku8MWu0PPd5WMWBbmGEZ3pQWZOdLElaJOSoCh6a4QsYEg/EcjGeTEabrz8gY7peRB4GGpVLGcf4L2FA1DM98O1KPs4w/UwPWCMqQqFqvFGp4D2UAZ7RdaqH5bh7zYxz8wAJnLHv7yIPiLKHFN4pT2NAvN3tQSe9GBDbTA92WDEI9YiTYz8WSD1Ak+YneJgOfUJU4ZhM0uLWw2ALKfRxjShuH+72UMejF81aUTM8YNHKYQ++aFCpED1AB6NO4sEZRW/fXX+fZqRi6uDd3WiGDct4X9iKcAxMHF/2txfWnR4wms+3F7UfeqCiQaVC9HDBJCLxcMLXHC4OzL8zNb9/xS5O3/NTdDF04Zon3zBPtovAQSHwxOeKTA800VYiV2R4KNC+4ItGHeQeqMycRQ/sjccuVzDXPs/8i6ub+z4mZL4WUEqoFOohhSOdBLI8WDjktWcFVzXDQ4f2IEHnzhQPUMCYlXiYuJDA3WBUILPJByTOUZcO5iNLcugT6dzlwfBEBkXBg5BYbdnR/OWfHtQWK0cqGIl9sQMZh91mNByOzA8HIOkB8swlzYs2rIzqHR6ePRm23AONI75yPtsDfIYJTiMP97MkD6mfGIqsKVcpXTFwlVvZHjDEB4ZBXSsYWhe5Bzqw9dUfeqAEXi2keHAWo/mpux5uppDEXX8nPEBT/E/LFg8MZyximR6q4mMWHlrTPTQo1n7sAeq4PvLz5GRGXx/GnApn88ufkwfuG1Bd5farsNA5FiJqlocWhQ1/OPyUvp+qb9v0Eec/PPQw00s8HCZxsbyqiBPDcswEDckDvyLGivsap8sOFOd0DzTSu+xAoXHv1/nLjvmzOAgEUfxlGtlNkeZYuKusBAlYLAZyfypJiqTwOI8Ux50IOcj3/wjRwRDXnSRgvb9CxB0e+lh2xqepI+GvYJWJPmAt+3DkvfB/OFZt8LLhGbtPZXa/fF/8+D7gjaWy0jl9RqgPHhM9H7w0LsOYmvvb7VY0+8NkHxCLPnS7YVfhwn776s4PzeAgfB64OrvmECqX/y9Tz556nMQuWVaOOTN1I6fN428IRLIW8nGPJSlJKk5FBYdmexklPzcNeiJtya6Hr1pboqe85HyIKInh82LI6ghXYkNmWKhaETOHzyIharWZd22pR9fzRVpChOusMEctDSWp09w6QfcRsFrBg1P8w9de4REq6i73S6at8WogEAgEAoFzN+Wv8ioMB9AzJCEfJCHooOA/VAQHRV10K5RCO5Q+R97/DW6twseFO3a6ZzCYn5zAQfL/YH+XE2GBB1Ygj5EASLLHOZacnHOsGqWSWKmU5EcqTqQaz9UeWnkIxKFUFnEcxo8AkO3rL/H58YdRve276ngKvo0oBVAmAH4CaApk3uNurA6gr0AtcZM3CkDmL1Ae6A1kDpSOuqjEdTpauXSxTthReRybO7y6OM4g9fQTsIsvBpwWd400CkjiEfrcaJ2xkzrAJ/DIFT+pguf7iIW203GKeIvXr3cIGYyhBeiCBfTKtYKmYggOmAyiqyRKr+yYBi5BQr2CCSNWrtEo0P5HWKZlfMYWIOkeqg8tWT5mtWLpKUPBR+wXbvWDIYewm5J6fG+8EH3KThYsP6EEF+8vHoTKN0mhrbU8rupV3/kuSTDgwwUYtOmBtHc3oHJcdO7gmfKM+WWuBVXwDFd46cYB2QIYL/cODlWLjzkSUOS0Gro7pqTQeX+I0zKSkMXYRXcjSW5VUPySe7Zg4JqBqbQA9B1KI6V4i+HrP0RpdILRNyC+i1zALcQcHXwlro4iRXsQQztbdqKL1atmmcCsdGovCKRXnQ/43JuCo4MEeWWuS5f+7B1ukwwFztGGIPh0ELGdaiFyLga4Dy/JThmzeKPaDoaYpgCrW9hqHbm3s3gayXdJ123aqlnDPbRJ8JA22p8dNLIufcXSg0pNkOys5ubQRaxQYXt0t7ODKUcl8FF48ttBXd9riD9jpoYkDE/Hppvl7BApqmjWDDFQpMGzI+JS07u0h8gkU3128GZUkjEONd9Gt0QhIZc0eZrqCMzwCNnRYYExqicuQQBlZ/mQhwQfbjDVVWpqcXRYMoBnf8/t2QEwhixNupmzA0l3LVgruvTsMIMLESJsgAwtH/pQMIYgmEOaVmE7OhTVR7yoKOO7qPAgvcK1ncMIti6IJ9bQYhqKCBjrBpp8UEVoOXDdcbXOYQaiiksOxM1wmXELTSQAkrD6JVIMNZfwIH5S6c/2hI+QwZFdEfUMVEGyheKRdY6DOSQQGWzn+MEHwTWDoh62jEfgHl58lWSyJHco7psHGJ6UA/Q31pW2AJg9UC7a3DmZM2CTbD3A3TH3gG9Ss7GV2OYFIF2TFsD8hNuFMuNSAmSXj/hl5OOJnRRAqaA1evGc2M1C+2J0EsA96Gd4pWlzQ06CvuBf/AFqqV8ZWpWokgAAAABJRU5ErkJggg=="
      }
      """
    When I request "api/mediaobject/4" using HTTP PUT
    Then the response code is 404

  Scenario: Can update an existing MediaObject - PATCH
    Given I am login as admin
    Then the request body is:
      """
      {
        "name": "Katadyn Logo"
      }
      """
    When I request "/api/mediaobject/1" using HTTP PATCH
    Then the response code is 204
  
  Scenario: Can delete an MediaObject
    Given I am login as admin
    Then I request "/api/mediaobject/2" using HTTP GET
    Then the response code is 200
    When I request "/api/mediaobject/2" using HTTP DELETE
    Then the response code is 204
    When I request "/api/mediaobject/2" using HTTP GET
    Then the response code is 404

  Scenario: Can update extension of a MediaObject PATCH
    Given I am login as admin
    Then the request body is:
      """
      {
        "image": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMDUgMTI1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMDUgMTI1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMzAuMywxMTQuMmwtNC43LTEwaC0zLjl2MTIuN2gyLjZ2LTEwLjVsNC45LDEwLjVoMy43di0xMi43aC0yLjVWMTE0LjJ6IE0yLDEwNi4zaDMuOHYxMC42aDIuN3YtMTAuNmgzLjgKCXYtMi4xSDJWMTA2LjN6IE0yNi4zLDEwOS4zaC00Ljh2LTUuMWgtMi43djEyLjdoMi43di01LjZoNC44djUuNkgyOXYtMTIuN2gtMi44VjEwOS4zeiBNMTU4LjYsMTA0LjJsLTQuNiwxMi43aDIuNmwwLjktMi43aDUKCWwwLjksMi43aDIuN2wtNC40LTEyLjdIMTU4LjZ6IE0xNTguMywxMTIuMWwxLjktNS40bDEuOCw1LjRIMTU4LjN6IE0zOS40LDExMS40aDUuNHYtMi4xaC01LjR2LTNoNS44di0yLjFoLTguNXYxMi43aDguN3YtMi4xaC02CglWMTExLjR6IE02OS41LDExMy40bC0yLjctOS4yaC00LjR2MTIuN2gyLjVWMTA2bDMuNCwxMC45aDIuMkw3NCwxMDZ2MTAuOWgyLjd2LTEyLjdoLTQuM0w2OS41LDExMy40eiBNMTExLjEsMTExLjgKCWMwLDEuMy0wLjEsMS44LTAuNCwyLjJjLTAuNywxLjEtMiwxLjEtMi41LDEuMWMtMi42LDAtMi44LTEuNy0yLjgtMy4xdi03LjdoLTIuN3Y3LjZjMCwxLjIsMCwyLjIsMC42LDMuMWMxLjIsMS45LDMuNSwyLjIsNC44LDIuMgoJYzIuNiwwLDUuNi0xLjIsNS42LTV2LTcuOWgtMi42VjExMS44eiBNODkuNiwxMDRjLTQuNiwwLTYuMSwzLjQtNi4xLDYuOGMwLDEuMiwwLjIsMy4zLDEuNiw0LjdjMS4yLDEuMiwyLjgsMS43LDQuNSwxLjcKCWMxLjEsMCwzLjEtMC4yLDQuNS0xLjhjMS0xLjIsMS42LTMuMSwxLjYtNWMwLTEuMi0wLjMtMy4yLTEuNi00LjhDOTIuOSwxMDQuMyw5MSwxMDQsODkuNiwxMDR6IE05MiwxMTRjLTAuNSwwLjgtMS4zLDEuMi0yLjQsMS4yCgljLTEuMywwLTEuOS0wLjUtMi4zLTFjLTAuOC0xLTAuOS0yLjMtMC45LTMuNWMwLTEuNCwwLjItMi44LDAuOS0zLjdjMC41LTAuNiwxLjMtMS4xLDIuMy0xLjFjMS4zLDAsMi40LDAuNywyLjksMi4yCgljMC4zLDAuOCwwLjMsMS42LDAuMywyLjNDOTIuOSwxMTIuNCw5Mi40LDExMy40LDkyLDExNHogTTEzOS4yLDEwNi4zaDMuOHYxMC42aDIuN3YtMTAuNmgzLjh2LTIuMWgtMTAuM1YxMDYuM3ogTTI2Ni4xLDEwNC4zaC0zLjkKCXYxMi42aDIuOFYxMTJoMS44YzAuNywwLDEuOSwwLDIuOS0wLjZjMS0wLjYsMS42LTEuOSwxLjYtMy40YzAtMC42LTAuMS0xLjYtMC44LTIuNEMyNjkuNCwxMDQuNCwyNjcuOSwxMDQuMywyNjYuMSwxMDQuM3oKCSBNMjY1LjksMTEwaC0xLjF2LTMuNmgxLjRjMC44LDAsMi4yLDAsMi4yLDEuN0MyNjguNCwxMTAsMjY2LjgsMTEwLDI2NS45LDExMHogTTIzMC42LDExMS40aDUuNHYtMi4xaC01LjR2LTNoNS44di0yLjFoLTguNXYxMi43CgloOC43di0yLjFoLTZWMTExLjR6IE0yMTUuNywxMDQuM2gtMy45djEyLjZoMi44VjExMmgxLjhjMC43LDAsMS45LDAsMi45LTAuNmMxLTAuNiwxLjYtMS45LDEuNi0zLjRjMC0wLjYtMC4xLTEuNi0wLjgtMi40CglDMjE5LjEsMTA0LjQsMjE3LjUsMTA0LjMsMjE1LjcsMTA0LjN6IE0yMTUuNiwxMTBoLTEuMXYtMy42aDEuNGMwLjgsMCwyLjIsMCwyLjIsMS43QzIxOC4xLDExMCwyMTYuNSwxMTAsMjE1LjYsMTEweiBNMjQ5LDEwNAoJYy00LjYsMC02LjEsMy40LTYuMSw2LjhjMCwxLjIsMC4yLDMuMywxLjYsNC43YzEuMiwxLjIsMi44LDEuNyw0LjUsMS43YzEuMSwwLDMuMS0wLjIsNC41LTEuOGMxLTEuMiwxLjYtMy4xLDEuNi01CgljMC0xLjItMC4zLTMuMi0xLjYtNC44QzI1Mi4zLDEwNC4zLDI1MC40LDEwNCwyNDksMTA0eiBNMjUxLjQsMTE0Yy0wLjUsMC44LTEuMywxLjItMi40LDEuMmMtMS4zLDAtMS45LTAuNS0yLjMtMQoJYy0wLjgtMS0wLjktMi4zLTAuOS0zLjVjMC0xLjQsMC4yLTIuOCwwLjktMy43YzAuNS0wLjYsMS4zLTEuMSwyLjMtMS4xYzEuMywwLDIuNCwwLjcsMi45LDIuMmMwLjMsMC44LDAuMywxLjYsMC4zLDIuMwoJQzI1Mi4zLDExMi40LDI1MS44LDExMy40LDI1MS40LDExNHogTTI5NiwxMTQuOHYtMy40aDUuNHYtMi4xSDI5NnYtM2g1Ljh2LTIuMWgtOC41djEyLjdoOC43di0yLjFIMjk2eiBNMTkxLjgsMTE0LjJsLTQuNy0xMGgtMy45Cgl2MTIuN2gyLjZ2LTEwLjVsNC45LDEwLjVoMy43di0xMi43aC0yLjVWMTE0LjJ6IE0xNzIuOCwxMTYuOWgyLjd2LTEyLjdoLTIuN1YxMTYuOXogTTI4MC45LDEwNC4zaC0yLjh2MTIuNmg4LjJ2LTIuMmgtNS40VjEwNC4zegoJIE01OC41LDIxLjJjMi0yLDMuOC0yLjgsNS4xLTIuN2MxLjcsMC4yLDIsMSwyLjUsM2MwLjIsMC43LDAuNCwxLjQsMC43LDIuMkM3My4yLDQxLjcsOTEuOCwzNy40LDkyLDM3LjNjMCwwLDAuOS0wLjIsMi4xLTAuNwoJYzAuMi0wLjEsMC40LTAuMywwLjQtMC42YzAtMC4yLTAuMi0wLjQtMC41LTAuNGMtMy41LTAuMi04LTEuOC0xNC43LTEyLjJsLTAuNS0wLjhjLTIuNi00LjEtNC43LTcuMy0xMS42LTYuOAoJYy0zLDAuMi01LjIsMS4zLTcuMiwyLjJjLTEuMiwwLjYtMi40LDEuMS0zLjYsMS40Yy0zLjIsMC44LTUuMiwwLjctNi45LDAuNmMtMC40LDAtMC43LDAtMS0wLjFjLTctMC4zLTEwLjgtMy43LTEyLjUtMTEKCWMtMC4xLTAuMi0wLjMtMC40LTAuNS0wLjRjLTAuMywwLTAuNSwwLjItMC42LDAuNGMtMC4zLDAuNy0xLDIuNi0xLjIsNC41Yy0wLjgsOC4zLDIuMiwxMy41LDguMywxNC4yCglDNDQuNCwyOC4yLDUxLjMsMjguMiw1OC41LDIxLjJ6IE0yNjYuNiwxMy4xYzAtMS42LTAuNi0zLTEuNy00LjFjLTEuMS0xLjEtMi41LTEuNi00LTEuNmMtMS42LDAtMywwLjYtNC4xLDEuNwoJYy0xLjEsMS4xLTEuNywyLjUtMS43LDQuMWMwLDEuNiwwLjYsMi45LDEuNyw0YzEuMSwxLjEsMi41LDEuNyw0LDEuN2MxLjYsMCwyLjktMC41LDQtMS42QzI2NiwxNi4xLDI2Ni42LDE0LjgsMjY2LjYsMTMuMXoKCSBNMjYwLjksMTguMmMtMS40LDAtMi41LTAuNS0zLjQtMS41Yy0wLjktMS0xLjQtMi4yLTEuNC0zLjVjMC0xLjQsMC41LTIuNiwxLjQtMy42YzAuOS0xLDIuMS0xLjUsMy40LTEuNWMxLjMsMCwyLjQsMC41LDMuNCwxLjUKCWMwLjksMSwxLjQsMi4yLDEuNCwzLjVjMCwxLjQtMC41LDIuNi0xLjUsMy42QzI2My4zLDE3LjcsMjYyLjEsMTguMiwyNjAuOSwxOC4yeiBNMjE1LDE0LjJjMC41LDAuOCwwLjgsMi4xLDAuOCwzLjl2NTAuNQoJYzAsMS40LDEuNywyLjgsNS4xLDQuMmMzLjQsMS40LDYuOSwyLjEsMTAuNCwyLjFjNywwLDEyLjctMi40LDE3LTcuMmM0LjMtNC44LDYuNC0xMC42LDYuNC0xNy4zYzAtNi4zLTEuNy0xMS40LTUtMTUuNAoJYy0zLjMtMy45LTcuMy01LjktMTItNS45Yy0zLjgsMC03LjIsMS4yLTEwLjEsMy42Yy0xLjcsMS40LTIuOSwyLjgtMy43LDQuM1Y4YzAtMC4yLDAtMC40LTAuMS0wLjZjLTAuMiwwLTEuOCwwLjUtNC43LDEuNQoJYy0yLjksMS02LjIsMS45LTkuOCwyLjh2MS42bDIuMi0wLjJDMjEzLjMsMTMuMSwyMTQuNSwxMy41LDIxNSwxNC4yeiBNMjIzLjcsNDIuN2MwLTIuMSwxLjEtMy45LDMuMi01LjNjMi4yLTEuNCw0LjQtMi4xLDYuNi0yLjEKCWM0LjUsMCw3LjcsMiw5LjcsNmMyLDQsMyw4LjQsMywxMy4yYzAsNC43LTEuMSw4LjgtMy4yLDEyLjFjLTIuMSwzLjMtNS40LDUtOS45LDVjLTEuNywwLTMuNi0wLjQtNS44LTEuMWMtMi4yLTAuNy0zLjQtMS45LTMuNy0zLjYKCVY0Mi43eiBNMjA0LjUsNjkuMmMtMS4zLDAtMi4yLTAuNi0yLjYtMS45Yy0wLjMtMC43LTAuNC0yLTAuNC0zLjhWNDQuNGMwLTQuMi0wLjYtNy40LTEuOC05LjZjLTIuMi00LTYuNC02LTEyLjYtNgoJYy01LjMsMC05LjQsMS4yLTEyLjEsMy43Yy0yLjgsMi40LTQuMSw0LjgtNC4xLDdjMCwxLjEsMC40LDIuMiwxLjEsMy4xYzAuOCwwLjksMS45LDEuNCwzLjMsMS40YzAuOSwwLDEuNy0wLjIsMi40LTAuNgoJYzEuMi0wLjcsMS44LTEuOSwxLjgtMy43YzAtMC4zLTAuMS0wLjgtMC4yLTEuN2MtMC4yLTAuOS0wLjItMS42LTAuMi0xLjljMC0xLjUsMC43LTIuNywyLjItMy41YzEuNS0wLjgsMy0xLjIsNC42LTEuMgoJYzMuNCwwLDUuNiwxLjEsNi43LDMuMmMwLjYsMS4zLDEsMy41LDEsNi44djQuMWMtOC44LDMuMy0xNC42LDUuOS0xNy41LDcuOGMtNC42LDMuMS02LjksNi45LTYuOSwxMS42YzAsMywxLDUuNCwzLDcuMwoJYzIsMS45LDQuNCwyLjksNy4xLDIuOWMyLjYsMCw1LjQtMC45LDguMy0yLjZjMS43LTEsMy44LTIuNiw2LjItNC43YzAuMSwxLjksMC42LDMuNiwxLjYsNWMxLDEuNCwyLjUsMi4xLDQuNywyLjEKCWMxLjgsMCwzLjctMC42LDUuNC0xLjhjMS4yLTAuOCwyLjMtMS44LDMuMy0zLjF2LTIuNWMtMS4yLDAuOS0yLDEuNC0yLjUsMS42QzIwNS44LDY5LjEsMjA1LjIsNjkuMiwyMDQuNSw2OS4yeiBNMTkzLjYsNjIuNwoJYzAsMS44LTEsMy4zLTIuOSw0LjVjLTEuOSwxLjItMy45LDEuOC02LDEuOGMtMS41LDAtMi45LTAuNC00LjItMS4zYy0xLjktMS40LTIuOS0zLjUtMi45LTYuNGMwLTMuNiwyLjMtNi44LDYuOS05LjYKCWMyLjQtMS41LDUuNC0yLjgsOS4xLTRWNjIuN3ogTTI2MS44LDEzLjNjMC45LTAuMywxLjMtMC45LDEuMy0xLjdjMC0wLjUtMC4yLTAuOS0wLjYtMS4xYy0wLjQtMC4zLTAuOS0wLjQtMS40LTAuNGgtM3YwLjMKCWMwLjQsMCwwLjYsMC4xLDAuNywwLjJjMC4xLDAuMSwwLjEsMC4zLDAuMSwwLjZ2NC4xYzAsMC4zLDAsMC41LTAuMSwwLjZjLTAuMSwwLjEtMC4zLDAuMS0wLjcsMC4ydjAuM2gyLjd2LTAuMwoJYy0wLjQsMC0wLjYtMC4xLTAuNy0wLjJjLTAuMS0wLjEtMC4xLTAuMy0wLjEtMC42di0xLjdoMC45YzAuNCwwLjYsMC44LDEuMywxLjIsMS45YzAuMywwLjUsMC42LDAuOCwwLjgsMC44aDEuMVYxNgoJYy0wLjUtMC41LTAuOS0wLjktMS4xLTEuMkwyNjEuOCwxMy4zeiBNMjYwLjcsMTMuMkgyNjB2LTIuOGgwLjdjMC45LDAsMS4zLDAuNCwxLjMsMS4zQzI2MiwxMi42LDI2MS42LDEzLjIsMjYwLjcsMTMuMnoKCSBNMTI4LjYsNzIuM2MtMy43LTAuMy02LjEtMS03LjItMS45Yy0xLjEtMS0xLjYtMy4zLTEuNi02LjlWNDQuMmw1LjQtMC4yTDE0OC41LDc0aDE1Ljh2LTEuOGMtMS45LTAuMi0zLjUtMC42LTQuOC0xLjMKCWMtMS4yLTAuNy0yLjUtMS44LTMuNy0zLjNsLTIwLjEtMjQuOGM1LjQtMC44LDkuNy0yLjUsMTIuOS01LjJjMy4yLTIuNiw0LjctNi40LDQuNy0xMS4yYzAtNy4zLTMuNi0xMi4yLTEwLjctMTQuOQoJYy0zLjgtMS40LTguNS0yLjEtMTQuMS0yLjFoLTI3LjF2MS44YzMuNSwwLjMsNS44LDEsNi45LDJjMSwxLjEsMS42LDMuMywxLjYsNi44djQyLjRjMCw0LjEtMC41LDYuNy0xLjQsNy44CgljLTAuOSwxLjEtMy4zLDEuOC03LDIuMlY3NGgyNy4yVjcyLjN6IE0xMTkuOCwxNi41YzAtMS41LDAuMy0yLjQsMC45LTIuOGMwLjYtMC40LDIuMy0wLjYsNS4xLTAuNmM0LjEsMCw3LjQsMC42LDkuOSwxLjcKCWM0LjYsMi4xLDcsNS45LDcsMTEuNmMwLDUuOS0yLjYsOS45LTcuOCwxMmMtMywxLjItOC4xLDEuOS0xNS4xLDIuMlYxNi41eiBNMTAwLjUsNjAuNWMtMy41LTAuMi04LTEuOC0xNC43LTEyLjJsLTAuNS0wLjgKCWMtMi42LTQuMS00LjctNy4zLTExLjYtNi44Yy0zLDAuMi01LjIsMS4zLTcuMiwyLjJjLTEuMiwwLjYtMi40LDEuMS0zLjYsMS40Yy0zLjIsMC44LTUuMiwwLjctNi45LDAuNmMtMC40LDAtMC43LDAtMS0wLjEKCWMtNy0wLjMtMTAuOC0zLjctMTIuNS0xMWMtMC4xLTAuMi0wLjMtMC40LTAuNS0wLjRjLTAuMywwLTAuNSwwLjItMC42LDAuNGMtMC4zLDAuNy0xLDIuNi0xLjIsNC41Yy0wLjgsOC4zLDIuMiwxMy40LDguMywxNC4yCgljMi42LDAuMyw5LjUsMC40LDE2LjctNi42YzItMiwzLjgtMi44LDUuMS0yLjdjMS43LDAuMiwyLDEsMi41LDNjMC4yLDAuNywwLjQsMS40LDAuNywyLjJjNi40LDE3LjksMjUuMSwxMy42LDI1LjMsMTMuNQoJYzAsMCwwLjktMC4yLDIuMS0wLjdjMC4yLTAuMSwwLjQtMC4zLDAuNC0wLjZDMTAwLjksNjAuNywxMDAuNyw2MC41LDEwMC41LDYwLjV6Ii8+Cjwvc3ZnPgo="
      }
      """
    Then I request "/api/mediaobject/1" using HTTP PATCH
    Then the response code is 204
    Then I request "/api/mediaobject/1" using HTTP GET
    And the response body contains JSON:
    """
    {
      "id": 1,
      "description": "Logo Katadyn",
      "file_path": "@regExp(/.+\\.svg/)"
    }
    """